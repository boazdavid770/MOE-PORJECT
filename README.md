README: Log Viewer Script
סקירה כללית
סקריפט Bash פשוט וידידותי למשתמש שנועד לסייע בניטור וחקירת קובצי לוג במערכות לינוקס. הוא מאפשר גישה מהירה ונוחה לקובץ ה-syslog (או כל קובץ לוג אחר שתגדיר) עם אפשרויות להצגת תוכן, מעקב בזמן אמת וחיפוש טקסט ספציפי.

תכונות עיקריות
הצגת 20 השורות האחרונות: הצגה מהירה של האירועים האחרונים בקובץ הלוג.
הצגת כל הקובץ: אפשרות לצפות בתוכן המלא של הלוג.
מעקב בזמן אמת: ניטור הלוגים כפי שהם נכתבים, שימושי לדיבוג וזיהוי בעיות מיידיות.
חיפוש טקסט: סינון הלוגים לפי מילות מפתח או ביטויים ספציפיים, ללא רגישות לאותיות גדולות/קטנות.
בדיקת הרשאות: מזהה אוטומטית אם חסרות הרשאות קריאה ומנחה את המשתמש להפעיל עם sudo.
טכנולוגיות
Bash Shell Scripting
פקודות לינוקס סטנדרטיות: tail, cat, grep
דרישות קדם
מערכת הפעלה מבוססת לינוקס (כמו אובונטו, דביאן, סנטוס וכו').
מותקן Bash (נכלל כברירת מחדל ברוב ההפצות).
הרשאות קריאה לקובץ הלוג (בדרך כלל דורש הפעלה עם sudo עבור קובצי מערכת כמו syslog).
התקנה
שמור את הסקריפט: צור קובץ חדש בשם read_syslog.sh (או כל שם אחר שתרצה) והדבק לתוכו את הקוד:

Bash

#!/bin/bash

LOG_FILE="/var/log/syslog"

# --- פונקציה לבדיקת הרשאות ---
check_permissions() {
    if [[ ! -r "$LOG_FILE" ]]; then
        echo "שגיאה: אין הרשאות קריאה לקובץ $LOG_FILE."
        echo "ייתכן שתצטרך להריץ את הסקריפט עם sudo:"
        echo "sudo ./read_syslog.sh"
        exit 1
    fi
}

# --- הצגת תפריט האפשרויות ---
display_menu() {
    echo "--- קריאת קובץ $LOG_FILE ---"
    echo "1. הצג את 20 השורות האחרונות (tail)"
    echo "2. הצג את כל הקובץ (cat)"
    echo "3. הצג את הקובץ ועדכן בזמן אמת (tail -f)"
    echo "4. חפש טקסט ספציפי (grep)"
    echo "5. צא"
    echo "--------------------------"
    read -p "בחר אפשרות (1-5): " CHOICE
}

# --- לוגיקה לטיפול בבחירת המשתמש ---
process_choice() {
    case $CHOICE in
        1)
            echo "--- 20 השורות האחרונות של $LOG_FILE ---"
            tail -n 20 "$LOG_FILE"
            ;;
        2)
            echo "--- כל התוכן של $LOG_FILE ---"
            cat "$LOG_FILE"
            ;;
        3)
            echo "--- הצגת $LOG_FILE בזמן אמת (לחץ Ctrl+C ליציאה) ---"
            tail -f "$LOG_FILE"
            ;;
        4)
            read -p "הזן טקסט לחיפוש: " SEARCH_TERM
            if [[ -z "$SEARCH_TERM" ]]; then
                echo "לא הוזן טקסט לחיפוש."
            else
                echo "--- תוצאות חיפוש עבור '$SEARCH_TERM' ב- $LOG_FILE ---"
                grep -i "$SEARCH_TERM" "$LOG_FILE"
                if [[ $? -ne 0 ]]; then
                    echo "הטקסט '$SEARCH_TERM' לא נמצא בקובץ."
                fi
            fi
            ;;
        5)
            echo "יציאה מהסקריפט. להתראות!"
            exit 0
            ;;
        *)
            echo "בחירה לא חוקית. אנא בחר מספר בין 1 ל-5."
            ;;
    esac
    echo "" # רווח לפני התפריט הבא
}

# --- הפעלת הסקריפט ---
check_permissions

while true; do
    display_menu
    process_choice
done
תן הרשאות הרצה: פתח טרמינל, נווט לתיקייה בה שמרת את הקובץ, והרץ את הפקודה:

Bash

chmod +x read_syslog.sh
שימוש
כדי להריץ את הסקריפט ולצפות בלוגים, פשוט בצע את הפעולה הבאה בטרמינל. זכור שקובצי לוג מערכת כמו syslog דורשים לרוב הרשאות sudo:

Bash

sudo ./read_syslog.sh
לאחר ההרצה, יוצג בפניך תפריט:

--- קריאת קובץ /var/log/syslog ---
1. הצג את 20 השורות האחרונות (tail)
2. הצג את כל הקובץ (cat)
3. הצג את הקובץ ועדכן בזמן אמת (tail -f)
4. חפש טקסט ספציפי (grep)
5. צא
--------------------------
בחר אפשרות (1-5):
הקלד את המספר של האפשרות הרצויה ולחץ Enter.

לאחר בחירת אפשרות 3 (tail -f), לחץ Ctrl+C כדי לצאת ממצב הצפייה בזמן אמת ולחזור לתפריט הראשי.
לבחירת אפשרות 5, הסקריפט ייצא.
התאמה אישית (אופציונלי)
אם ברצונך שהסקריפט יקרא קובץ לוג אחר מ-/var/log/syslog, פשוט ערוך את השורה הבאה בתחילת הסקריפט:

Bash

LOG_FILE="/var/log/syslog"
שנה את הנתיב לנתיב המלא של קובץ הלוג הרצוי (לדוגמה: LOG_FILE="/var/log/auth.log").

רישיון
פרויקט זה מורשה תחת רישיון MIT. ראה את קובץ LICENSE לפרטים נוספים.
